(()=>{"use strict";var e,t={21:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,a=window.wp.blockEditor,l=window.wp.components,o=window.wp.element,r=({label:e,value:n,onChange:a})=>(0,t.createElement)(l.Flex,{align:"center",justify:"space-between",style:{marginBottom:"8px"}},(0,t.createElement)(l.FlexItem,null,(0,t.createElement)("span",{style:{fontSize:"11px",textTransform:"uppercase",fontWeight:"500"}},e)),(0,t.createElement)(l.FlexItem,null,(0,t.createElement)(l.Dropdown,{className:"clock-grid-color-dropdown",contentClassName:"clock-grid-color-popover",popoverProps:{placement:"left-start"},renderToggle:({isOpen:e,onToggle:a})=>(0,t.createElement)(l.Button,{onClick:a,"aria-expanded":e,className:"clock-grid-color-button",style:{padding:"0",minWidth:"36px",height:"24px",border:"1px solid #949494",borderRadius:"4px",overflow:"hidden",background:"transparent"}},(0,t.createElement)("span",{style:{display:"block",width:"100%",height:"100%",background:n,borderRadius:"3px"}})),renderContent:()=>(0,t.createElement)("div",{style:{padding:"16px"}},(0,t.createElement)(l.ColorPicker,{color:n,onChange:a,enableAlpha:!0}))}))),i=JSON.parse('{"UU":"clock-grid/clock-grid"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{faceColor:c,ringColor:s,minuteHandColor:g,hourHandColor:d,gap:p,maxHeight:u,containerPadding:h,aspectRatioWidth:m,aspectRatioHeight:k,rotationSpeed:b,sizeDesktop:x,sizeTablet:C,sizeTabletSmall:_,sizeMobile:f,breakpointDesktop:v,breakpointTablet:w,breakpointMobile:M}=e,E=(0,o.useRef)(null),R=(0,o.useRef)(null),A=(0,o.useRef)([]),y=(0,o.useRef)(null),P=(0,o.useRef)(!1),S=(0,o.useRef)(performance.now()),z=u*(m/k),T=(0,a.useBlockProps)({ref:E,className:"clock-grid-container",style:{width:`${z}px`,height:`${u}px`,maxWidth:"100%",padding:`${h}px`,aspectRatio:`${m} / ${k}`}}),B=(0,o.useCallback)(()=>{const e=window.innerWidth;return e<=M?f:e<=w?_:e<=v?C:x},[x,C,_,f,v,w,M]),H=e=>(e%360+360)%360,O=(0,o.useCallback)(()=>{const e=R.current,t=E.current;if(!e||!t)return;const n=e.getContext("2d"),a=t.getBoundingClientRect(),l=B();n.clearRect(0,0,a.width,a.height);const o=l/2,r=.08*o,i=.44*o,p=.68*o,u=.128*o,h=.104*o,m=.052*o,k=.92*o,b=o-r/2,x=A.current;for(let e=0;e<x.length;e++){const t=x[e],a=t.cx,l=t.cy;n.beginPath(),n.arc(a,l,k,0,2*Math.PI),n.fillStyle=c,n.fill(),n.beginPath(),n.arc(a,l,b,0,2*Math.PI),n.strokeStyle=s,n.lineWidth=r,n.stroke();const o=(t.hourAngle-90)*(Math.PI/180);n.beginPath(),n.moveTo(a,l),n.lineTo(a+Math.cos(o)*i,l+Math.sin(o)*i),n.strokeStyle=d,n.lineWidth=u,n.lineCap="round",n.stroke();const C=(t.currentMinuteAngle-90)*(Math.PI/180);n.beginPath(),n.moveTo(a,l),n.lineTo(a+Math.cos(C)*p,l+Math.sin(C)*p),n.strokeStyle=g,n.lineWidth=h,n.lineCap="round",n.stroke(),n.beginPath(),n.arc(a,l,m,0,2*Math.PI),n.fillStyle=d,n.fill()}},[c,s,g,d,B]),$=(0,o.useCallback)(()=>{const e=performance.now(),t=Math.min(.001*(e-S.current),.1);S.current=e;let n=!1;const a=b*t,l=A.current;for(let e=0;e<l.length;e++){const t=l[e];let o=t.targetMinuteAngle-t.currentMinuteAngle;o>180&&(o-=360),o<-180&&(o+=360);let r=o;r>a?r=a:r<-a&&(r=-a),Math.abs(r)>.1&&(n=!0),t.currentMinuteAngle=H(t.currentMinuteAngle+r);let i=t.currentMinuteAngle-t.lastMinuteAngle;i>180&&(i-=360),i<-180&&(i+=360),t.hourAngle+=.083333333*Math.abs(i),t.lastMinuteAngle=t.currentMinuteAngle}O(),(n||P.current)&&(P.current=n,y.current=requestAnimationFrame($))},[b,O]),W=(0,o.useCallback)(()=>{const e=R.current,t=E.current;if(!e||!t)return;const n=t.getBoundingClientRect(),a=window.devicePixelRatio||1,l=B();e.width=n.width*a,e.height=n.height*a,e.style.width=n.width+"px",e.style.height=n.height+"px";const o=e.getContext("2d");o.setTransform(1,0,0,1,0,0),o.scale(a,a);const r=Math.max(1,Math.floor((n.width+p)/(l+p))),i=Math.max(1,Math.floor((n.height+p)/(l+p))),c=Math.min(r,i),s=c*l+(c-1)*p,g=c*l+(c-1)*p,d=(n.width-s)/2,u=(n.height-g)/2,h=A.current,m=[];for(let e=0;e<c;e++)for(let t=0;t<c;t++){const n=e*c+t,a=d+t*(l+p)+l/2,o=u+e*(l+p)+l/2;h[n]?m.push({cx:a,cy:o,currentMinuteAngle:h[n].currentMinuteAngle,targetMinuteAngle:h[n].targetMinuteAngle,hourAngle:h[n].hourAngle,lastMinuteAngle:h[n].lastMinuteAngle}):m.push({cx:a,cy:o,currentMinuteAngle:0,targetMinuteAngle:0,hourAngle:0,lastMinuteAngle:0})}A.current=m,O()},[p,B,O]),D=(0,o.useCallback)(e=>{const t=E.current;if(!t)return;const n=t.getBoundingClientRect(),a=e.clientX-n.left,l=e.clientY-n.top,o=A.current;for(let e=0;e<o.length;e++){const t=o[e],n=a-t.cx,r=l-t.cy,i=Math.atan2(r,n);t.targetMinuteAngle=H(i*(180/Math.PI)+90)}P.current||(P.current=!0,S.current=performance.now(),y.current=requestAnimationFrame($))},[$]);return(0,o.useEffect)(()=>{W();const e=new ResizeObserver(()=>{W()});return E.current&&e.observe(E.current),()=>{e.disconnect(),y.current&&cancelAnimationFrame(y.current)}},[W]),(0,o.useEffect)(()=>{O()},[c,s,g,d,O]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Colors","clock-grid"),initialOpen:!0},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(r,{label:(0,n.__)("Face Color","clock-grid"),value:c,onChange:e=>i({faceColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Ring Color","clock-grid"),value:s,onChange:e=>i({ringColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Minute Hand Color","clock-grid"),value:g,onChange:e=>i({minuteHandColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Hour Hand Color","clock-grid"),value:d,onChange:e=>i({hourHandColor:e})}))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Layout","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Max Height (px)","clock-grid"),value:u,onChange:e=>i({maxHeight:e}),min:100,max:2e3,step:10}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Container Padding (px)","clock-grid"),value:h,onChange:e=>i({containerPadding:e}),min:0,max:100}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Gap Between Clocks (px)","clock-grid"),value:p,onChange:e=>i({gap:e}),min:0,max:50}),(0,t.createElement)(l.__experimentalHStack,{spacing:2},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Aspect Ratio Width","clock-grid"),value:m,onChange:e=>i({aspectRatioWidth:e}),min:1,max:16}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Aspect Ratio Height","clock-grid"),value:k,onChange:e=>i({aspectRatioHeight:e}),min:1,max:16})))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Animation","clock-grid"),initialOpen:!1},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Rotation Speed (deg/s)","clock-grid"),value:b,onChange:e=>i({rotationSpeed:e}),min:50,max:1e3,step:10})),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Responsive Clock Sizes","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Desktop Size (px)","clock-grid"),help:(0,n.__)(`Used when width > ${v}px`,"clock-grid"),value:x,onChange:e=>i({sizeDesktop:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${v}px`,"clock-grid"),value:C,onChange:e=>i({sizeTablet:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Small Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${w}px`,"clock-grid"),value:_,onChange:e=>i({sizeTabletSmall:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Mobile Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${M}px`,"clock-grid"),value:f,onChange:e=>i({sizeMobile:e}),min:20,max:200}))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Breakpoints","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Desktop Breakpoint (px)","clock-grid"),value:v,onChange:e=>i({breakpointDesktop:e}),min:400,max:1600}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Breakpoint (px)","clock-grid"),value:w,onChange:e=>i({breakpointTablet:e}),min:300,max:1200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Mobile Breakpoint (px)","clock-grid"),value:M,onChange:e=>i({breakpointMobile:e}),min:200,max:800})))),(0,t.createElement)("div",{...T,onMouseMove:D},(0,t.createElement)("canvas",{ref:R,className:"clock-grid-canvas"})))},save:function({attributes:e}){const{faceColor:n,ringColor:l,minuteHandColor:o,hourHandColor:r,gap:i,maxHeight:c,containerPadding:s,aspectRatioWidth:g,aspectRatioHeight:d,rotationSpeed:p,sizeDesktop:u,sizeTablet:h,sizeTabletSmall:m,sizeMobile:k,breakpointDesktop:b,breakpointTablet:x,breakpointMobile:C}=e,_=c*(g/d),f=a.useBlockProps.save({className:"clock-grid-container",style:{width:`${_}px`,height:`${c}px`,maxWidth:"100%",padding:`${s}px`,aspectRatio:`${g} / ${d}`},"data-face-color":n,"data-ring-color":l,"data-minute-hand-color":o,"data-hour-hand-color":r,"data-gap":i,"data-max-height":c,"data-container-padding":s,"data-aspect-ratio-width":g,"data-aspect-ratio-height":d,"data-rotation-speed":p,"data-size-desktop":u,"data-size-tablet":h,"data-size-tablet-small":m,"data-size-mobile":k,"data-breakpoint-desktop":b,"data-breakpoint-tablet":x,"data-breakpoint-mobile":C});return(0,t.createElement)("div",{...f},(0,t.createElement)("canvas",{className:"clock-grid-canvas"}))}})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,l,o)=>{if(!n){var r=1/0;for(g=0;g<e.length;g++){for(var[n,l,o]=e[g],i=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every(e=>a.O[e](n[c]))?n.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(g--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var g=e.length;g>0&&e[g-1][2]>o;g--)e[g]=e[g-1];e[g]=[n,l,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[r,i,c]=n,s=0;if(r.some(t=>0!==e[t])){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(c)var g=c(a)}for(t&&t(n);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(g)},n=globalThis.webpackChunkclock_grid=globalThis.webpackChunkclock_grid||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[350],()=>a(21));l=a.O(l)})();