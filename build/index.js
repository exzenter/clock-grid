(()=>{"use strict";var e,t={21:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,a=window.wp.blockEditor,l=window.wp.components,o=window.wp.element,r=({label:e,value:n,onChange:a})=>(0,t.createElement)(l.BaseControl,{label:e,__nextHasNoMarginBottom:!0},(0,t.createElement)(l.ColorPicker,{color:n,onChange:a,enableAlpha:!0})),i=JSON.parse('{"UU":"clock-grid/clock-grid"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i}){const{faceColor:c,ringColor:s,minuteHandColor:g,hourHandColor:d,gap:u,maxHeight:h,containerPadding:p,aspectRatioWidth:m,aspectRatioHeight:k,rotationSpeed:b,sizeDesktop:C,sizeTablet:_,sizeTabletSmall:x,sizeMobile:M,breakpointDesktop:f,breakpointTablet:v,breakpointMobile:w}=e,E=(0,o.useRef)(null),R=(0,o.useRef)(null),A=(0,o.useRef)([]),P=(0,o.useRef)(null),y=(0,o.useRef)(!1),S=(0,o.useRef)(performance.now()),z=(0,a.useBlockProps)({ref:E,className:"clock-grid-container",style:{maxHeight:`${h}px`,padding:`${p}px`,aspectRatio:`${m} / ${k}`}}),H=(0,o.useCallback)(e=>e<=w?M:e<=v?x:e<=f?_:C,[C,_,x,M,f,v,w]),T=e=>(e%360+360)%360,B=(0,o.useCallback)(()=>{const e=R.current,t=E.current;if(!e||!t)return;const n=e.getContext("2d"),a=t.getBoundingClientRect(),l=H(a.width);n.clearRect(0,0,a.width,a.height);const o=l/2,r=.08*o,i=.44*o,u=.68*o,h=.128*o,p=.104*o,m=.052*o,k=.92*o,b=o-r/2,C=A.current;for(let e=0;e<C.length;e++){const t=C[e],a=t.cx,l=t.cy;n.beginPath(),n.arc(a,l,k,0,2*Math.PI),n.fillStyle=c,n.fill(),n.beginPath(),n.arc(a,l,b,0,2*Math.PI),n.strokeStyle=s,n.lineWidth=r,n.stroke();const o=(t.hourAngle-90)*(Math.PI/180);n.beginPath(),n.moveTo(a,l),n.lineTo(a+Math.cos(o)*i,l+Math.sin(o)*i),n.strokeStyle=d,n.lineWidth=h,n.lineCap="round",n.stroke();const _=(t.currentMinuteAngle-90)*(Math.PI/180);n.beginPath(),n.moveTo(a,l),n.lineTo(a+Math.cos(_)*u,l+Math.sin(_)*u),n.strokeStyle=g,n.lineWidth=p,n.lineCap="round",n.stroke(),n.beginPath(),n.arc(a,l,m,0,2*Math.PI),n.fillStyle=d,n.fill()}},[c,s,g,d,H]),O=(0,o.useCallback)(()=>{const e=performance.now(),t=Math.min(.001*(e-S.current),.1);S.current=e;let n=!1;const a=b*t,l=A.current;for(let e=0;e<l.length;e++){const t=l[e];let o=t.targetMinuteAngle-t.currentMinuteAngle;o>180&&(o-=360),o<-180&&(o+=360);let r=o;r>a?r=a:r<-a&&(r=-a),Math.abs(r)>.1&&(n=!0),t.currentMinuteAngle=T(t.currentMinuteAngle+r);let i=t.currentMinuteAngle-t.lastMinuteAngle;i>180&&(i-=360),i<-180&&(i+=360),t.hourAngle+=.083333333*Math.abs(i),t.lastMinuteAngle=t.currentMinuteAngle}B(),(n||y.current)&&(y.current=n,P.current=requestAnimationFrame(O))},[b,B]),$=(0,o.useCallback)(()=>{const e=R.current,t=E.current;if(!e||!t)return;const n=t.getBoundingClientRect(),a=window.devicePixelRatio||1,l=H(n.width);e.width=n.width*a,e.height=n.height*a,e.style.width=n.width+"px",e.style.height=n.height+"px";const o=e.getContext("2d");o.setTransform(1,0,0,1,0,0),o.scale(a,a);const r=Math.max(1,Math.floor((n.width+u)/(l+u))),i=Math.max(1,Math.floor((n.height+u)/(l+u))),c=Math.min(r,i),s=c*l+(c-1)*u,g=c*l+(c-1)*u,d=(n.width-s)/2,h=(n.height-g)/2,p=A.current,m=[];for(let e=0;e<c;e++)for(let t=0;t<c;t++){const n=e*c+t,a=d+t*(l+u)+l/2,o=h+e*(l+u)+l/2;p[n]?m.push({cx:a,cy:o,currentMinuteAngle:p[n].currentMinuteAngle,targetMinuteAngle:p[n].targetMinuteAngle,hourAngle:p[n].hourAngle,lastMinuteAngle:p[n].lastMinuteAngle}):m.push({cx:a,cy:o,currentMinuteAngle:0,targetMinuteAngle:0,hourAngle:0,lastMinuteAngle:0})}A.current=m,B()},[u,H,B]),D=(0,o.useCallback)(e=>{const t=E.current;if(!t)return;const n=t.getBoundingClientRect(),a=e.clientX-n.left,l=e.clientY-n.top,o=A.current;for(let e=0;e<o.length;e++){const t=o[e],n=a-t.cx,r=l-t.cy,i=Math.atan2(r,n);t.targetMinuteAngle=T(i*(180/Math.PI)+90)}y.current||(y.current=!0,S.current=performance.now(),P.current=requestAnimationFrame(O))},[O]);return(0,o.useEffect)(()=>{$();const e=new ResizeObserver(()=>{$()});return E.current&&e.observe(E.current),()=>{e.disconnect(),P.current&&cancelAnimationFrame(P.current)}},[$]),(0,o.useEffect)(()=>{B()},[c,s,g,d,B]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Colors","clock-grid"),initialOpen:!0},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(r,{label:(0,n.__)("Face Color","clock-grid"),value:c,onChange:e=>i({faceColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Ring Color","clock-grid"),value:s,onChange:e=>i({ringColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Minute Hand Color","clock-grid"),value:g,onChange:e=>i({minuteHandColor:e})}),(0,t.createElement)(r,{label:(0,n.__)("Hour Hand Color","clock-grid"),value:d,onChange:e=>i({hourHandColor:e})}))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Layout","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Max Height (px)","clock-grid"),value:h,onChange:e=>i({maxHeight:e}),min:100,max:2e3,step:10}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Container Padding (px)","clock-grid"),value:p,onChange:e=>i({containerPadding:e}),min:0,max:100}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Gap Between Clocks (px)","clock-grid"),value:u,onChange:e=>i({gap:e}),min:0,max:50}),(0,t.createElement)(l.__experimentalHStack,{spacing:2},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Aspect Ratio Width","clock-grid"),value:m,onChange:e=>i({aspectRatioWidth:e}),min:1,max:16}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Aspect Ratio Height","clock-grid"),value:k,onChange:e=>i({aspectRatioHeight:e}),min:1,max:16})))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Animation","clock-grid"),initialOpen:!1},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Rotation Speed (deg/s)","clock-grid"),value:b,onChange:e=>i({rotationSpeed:e}),min:50,max:1e3,step:10})),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Responsive Clock Sizes","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Desktop Size (px)","clock-grid"),help:(0,n.__)(`Used when width > ${f}px`,"clock-grid"),value:C,onChange:e=>i({sizeDesktop:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${f}px`,"clock-grid"),value:_,onChange:e=>i({sizeTablet:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Small Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${v}px`,"clock-grid"),value:x,onChange:e=>i({sizeTabletSmall:e}),min:20,max:200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Mobile Size (px)","clock-grid"),help:(0,n.__)(`Used when width ≤ ${w}px`,"clock-grid"),value:M,onChange:e=>i({sizeMobile:e}),min:20,max:200}))),(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Breakpoints","clock-grid"),initialOpen:!1},(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Desktop Breakpoint (px)","clock-grid"),value:f,onChange:e=>i({breakpointDesktop:e}),min:400,max:1600}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Tablet Breakpoint (px)","clock-grid"),value:v,onChange:e=>i({breakpointTablet:e}),min:300,max:1200}),(0,t.createElement)(l.RangeControl,{label:(0,n.__)("Mobile Breakpoint (px)","clock-grid"),value:w,onChange:e=>i({breakpointMobile:e}),min:200,max:800})))),(0,t.createElement)("div",{...z,onMouseMove:D},(0,t.createElement)("canvas",{ref:R,className:"clock-grid-canvas"})))},save:function({attributes:e}){const{faceColor:n,ringColor:l,minuteHandColor:o,hourHandColor:r,gap:i,maxHeight:c,containerPadding:s,aspectRatioWidth:g,aspectRatioHeight:d,rotationSpeed:u,sizeDesktop:h,sizeTablet:p,sizeTabletSmall:m,sizeMobile:k,breakpointDesktop:b,breakpointTablet:C,breakpointMobile:_}=e,x=a.useBlockProps.save({className:"clock-grid-container",style:{maxHeight:`${c}px`,padding:`${s}px`,aspectRatio:`${g} / ${d}`},"data-face-color":n,"data-ring-color":l,"data-minute-hand-color":o,"data-hour-hand-color":r,"data-gap":i,"data-max-height":c,"data-container-padding":s,"data-aspect-ratio-width":g,"data-aspect-ratio-height":d,"data-rotation-speed":u,"data-size-desktop":h,"data-size-tablet":p,"data-size-tablet-small":m,"data-size-mobile":k,"data-breakpoint-desktop":b,"data-breakpoint-tablet":C,"data-breakpoint-mobile":_});return(0,t.createElement)("div",{...x},(0,t.createElement)("canvas",{className:"clock-grid-canvas"}))}})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,l,o)=>{if(!n){var r=1/0;for(g=0;g<e.length;g++){for(var[n,l,o]=e[g],i=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(a.O).every(e=>a.O[e](n[c]))?n.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(g--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var g=e.length;g>0&&e[g-1][2]>o;g--)e[g]=e[g-1];e[g]=[n,l,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[r,i,c]=n,s=0;if(r.some(t=>0!==e[t])){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(c)var g=c(a)}for(t&&t(n);s<r.length;s++)o=r[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(g)},n=globalThis.webpackChunkclock_grid=globalThis.webpackChunkclock_grid||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[350],()=>a(21));l=a.O(l)})();